{"id":"Qzyn","dependencies":[{"name":"/home/malyuk/Documents/ciklum-test(ready)/package.json","includedInParent":true,"mtime":1612723830717},{"name":"../index","loc":{"line":3,"column":7},"parent":"/home/malyuk/Documents/ciklum-test(ready)/src/dragAndDrop/dragAndDrop.js","resolved":"/home/malyuk/Documents/ciklum-test(ready)/src/index.js"},{"name":"../table/table","loc":{"line":4,"column":28},"parent":"/home/malyuk/Documents/ciklum-test(ready)/src/dragAndDrop/dragAndDrop.js","resolved":"/home/malyuk/Documents/ciklum-test(ready)/src/table/table.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=d;var t=require(\"../index\"),e=require(\"../table/table\"),a=localStorage.getItem(\"calendarData\"),r=JSON.parse(a);function d(){var a,r,d,n,l=document.querySelectorAll(\".filled\"),i=document.querySelectorAll(\".drop-zone\");l.forEach(function(t){t.addEventListener(\"dragstart\",function(e){a=t.dataset.day,r=t.dataset.time,d=t.dataset.title,n=t.dataset.participants.split(\",\")})}),i.forEach(function(t){t.addEventListener(\"dragover\",function(t){t.preventDefault()})}),i.forEach(function(l){l.addEventListener(\"drop\",function(l){Object.keys(t.data[l.target.dataset.day]).includes(l.target.dataset.time)?alert(\"You can't drag to the booked slot\"):(delete t.data[a][r],t.data[l.target.dataset.day][l.target.dataset.time]={title:d,participants:n},localStorage.setItem(\"calendarData\",JSON.stringify(t.data))),\"All members\"===t.filterBy?(0,e.renderTable)(t.data):((0,t.filterFunc)(),(0,e.renderTable)(t.filteredData))})})}"},"sourceMaps":{"js":{"mappings":[{"source":"dragAndDrop/dragAndDrop.js","original":{"line":53,"column":1},"generated":{"line":1,"column":0}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":53,"column":1},"generated":{"line":1,"column":13}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":53,"column":1},"generated":{"line":1,"column":20}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":53,"column":1},"generated":{"line":1,"column":35}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":53,"column":1},"generated":{"line":1,"column":43}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":53,"column":1},"generated":{"line":1,"column":56}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":53,"column":1},"generated":{"line":1,"column":57}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":53,"column":1},"generated":{"line":1,"column":64}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":53,"column":1},"generated":{"line":1,"column":68}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":53,"column":1},"generated":{"line":1,"column":76}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":53,"column":1},"generated":{"line":1,"column":84}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":4,"column":0},"generated":{"line":1,"column":112}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":4,"column":0},"generated":{"line":1,"column":114}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":4,"column":0},"generated":{"line":1,"column":122}},{"source":"dragAndDrop/dragAndDrop.js","name":"rawCalendarData","original":{"line":6,"column":6},"generated":{"line":1,"column":140}},{"source":"dragAndDrop/dragAndDrop.js","name":"localStorage","original":{"line":6,"column":24},"generated":{"line":1,"column":142}},{"source":"dragAndDrop/dragAndDrop.js","name":"getItem","original":{"line":6,"column":37},"generated":{"line":1,"column":155}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":6,"column":45},"generated":{"line":1,"column":163}},{"source":"dragAndDrop/dragAndDrop.js","name":"calendarData","original":{"line":7,"column":6},"generated":{"line":1,"column":179}},{"source":"dragAndDrop/dragAndDrop.js","name":"JSON","original":{"line":7,"column":21},"generated":{"line":1,"column":181}},{"source":"dragAndDrop/dragAndDrop.js","name":"parse","original":{"line":7,"column":26},"generated":{"line":1,"column":186}},{"source":"dragAndDrop/dragAndDrop.js","name":"rawCalendarData","original":{"line":7,"column":32},"generated":{"line":1,"column":192}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":9,"column":15},"generated":{"line":1,"column":195}},{"source":"dragAndDrop/dragAndDrop.js","name":"addDragAndDrop","original":{"line":9,"column":24},"generated":{"line":1,"column":204}},{"source":"dragAndDrop/dragAndDrop.js","name":"draggableMeetingCard","original":{"line":10,"column":8},"generated":{"line":1,"column":208}},{"source":"dragAndDrop/dragAndDrop.js","name":"day","original":{"line":13,"column":6},"generated":{"line":1,"column":212}},{"source":"dragAndDrop/dragAndDrop.js","name":"time","original":{"line":14,"column":6},"generated":{"line":1,"column":214}},{"source":"dragAndDrop/dragAndDrop.js","name":"title","original":{"line":15,"column":6},"generated":{"line":1,"column":216}},{"source":"dragAndDrop/dragAndDrop.js","name":"participants","original":{"line":16,"column":6},"generated":{"line":1,"column":218}},{"source":"dragAndDrop/dragAndDrop.js","name":"draggableMeetingCard","original":{"line":10,"column":8},"generated":{"line":1,"column":220}},{"source":"dragAndDrop/dragAndDrop.js","name":"document","original":{"line":10,"column":31},"generated":{"line":1,"column":222}},{"source":"dragAndDrop/dragAndDrop.js","name":"querySelectorAll","original":{"line":10,"column":40},"generated":{"line":1,"column":231}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":10,"column":57},"generated":{"line":1,"column":248}},{"source":"dragAndDrop/dragAndDrop.js","name":"dropZone","original":{"line":11,"column":8},"generated":{"line":1,"column":259}},{"source":"dragAndDrop/dragAndDrop.js","name":"document","original":{"line":11,"column":19},"generated":{"line":1,"column":261}},{"source":"dragAndDrop/dragAndDrop.js","name":"querySelectorAll","original":{"line":11,"column":28},"generated":{"line":1,"column":270}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":11,"column":45},"generated":{"line":1,"column":287}},{"source":"dragAndDrop/dragAndDrop.js","name":"draggableMeetingCard","original":{"line":18,"column":2},"generated":{"line":1,"column":301}},{"source":"dragAndDrop/dragAndDrop.js","name":"forEach","original":{"line":18,"column":23},"generated":{"line":1,"column":303}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":18,"column":31},"generated":{"line":1,"column":311}},{"source":"dragAndDrop/dragAndDrop.js","name":"item","original":{"line":18,"column":32},"generated":{"line":1,"column":320}},{"source":"dragAndDrop/dragAndDrop.js","name":"item","original":{"line":19,"column":4},"generated":{"line":1,"column":323}},{"source":"dragAndDrop/dragAndDrop.js","name":"addEventListener","original":{"line":19,"column":9},"generated":{"line":1,"column":325}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":19,"column":26},"generated":{"line":1,"column":342}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":19,"column":40},"generated":{"line":1,"column":354}},{"source":"dragAndDrop/dragAndDrop.js","name":"e","original":{"line":19,"column":41},"generated":{"line":1,"column":363}},{"source":"dragAndDrop/dragAndDrop.js","name":"day","original":{"line":20,"column":6},"generated":{"line":1,"column":366}},{"source":"dragAndDrop/dragAndDrop.js","name":"item","original":{"line":20,"column":12},"generated":{"line":1,"column":368}},{"source":"dragAndDrop/dragAndDrop.js","name":"dataset","original":{"line":20,"column":17},"generated":{"line":1,"column":370}},{"source":"dragAndDrop/dragAndDrop.js","name":"day","original":{"line":20,"column":25},"generated":{"line":1,"column":378}},{"source":"dragAndDrop/dragAndDrop.js","name":"time","original":{"line":21,"column":6},"generated":{"line":1,"column":382}},{"source":"dragAndDrop/dragAndDrop.js","name":"item","original":{"line":21,"column":13},"generated":{"line":1,"column":384}},{"source":"dragAndDrop/dragAndDrop.js","name":"dataset","original":{"line":21,"column":18},"generated":{"line":1,"column":386}},{"source":"dragAndDrop/dragAndDrop.js","name":"time","original":{"line":21,"column":26},"generated":{"line":1,"column":394}},{"source":"dragAndDrop/dragAndDrop.js","name":"title","original":{"line":22,"column":6},"generated":{"line":1,"column":399}},{"source":"dragAndDrop/dragAndDrop.js","name":"item","original":{"line":22,"column":14},"generated":{"line":1,"column":401}},{"source":"dragAndDrop/dragAndDrop.js","name":"dataset","original":{"line":22,"column":19},"generated":{"line":1,"column":403}},{"source":"dragAndDrop/dragAndDrop.js","name":"title","original":{"line":22,"column":27},"generated":{"line":1,"column":411}},{"source":"dragAndDrop/dragAndDrop.js","name":"participants","original":{"line":23,"column":6},"generated":{"line":1,"column":417}},{"source":"dragAndDrop/dragAndDrop.js","name":"item","original":{"line":23,"column":21},"generated":{"line":1,"column":419}},{"source":"dragAndDrop/dragAndDrop.js","name":"dataset","original":{"line":23,"column":26},"generated":{"line":1,"column":421}},{"source":"dragAndDrop/dragAndDrop.js","name":"participants","original":{"line":23,"column":34},"generated":{"line":1,"column":429}},{"source":"dragAndDrop/dragAndDrop.js","name":"split","original":{"line":23,"column":47},"generated":{"line":1,"column":442}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":23,"column":53},"generated":{"line":1,"column":448}},{"source":"dragAndDrop/dragAndDrop.js","name":"dropZone","original":{"line":27,"column":2},"generated":{"line":1,"column":457}},{"source":"dragAndDrop/dragAndDrop.js","name":"forEach","original":{"line":27,"column":11},"generated":{"line":1,"column":459}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":27,"column":19},"generated":{"line":1,"column":467}},{"source":"dragAndDrop/dragAndDrop.js","name":"item","original":{"line":27,"column":20},"generated":{"line":1,"column":476}},{"source":"dragAndDrop/dragAndDrop.js","name":"item","original":{"line":28,"column":4},"generated":{"line":1,"column":479}},{"source":"dragAndDrop/dragAndDrop.js","name":"addEventListener","original":{"line":28,"column":9},"generated":{"line":1,"column":481}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":28,"column":26},"generated":{"line":1,"column":498}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":28,"column":39},"generated":{"line":1,"column":509}},{"source":"dragAndDrop/dragAndDrop.js","name":"e","original":{"line":28,"column":40},"generated":{"line":1,"column":518}},{"source":"dragAndDrop/dragAndDrop.js","name":"e","original":{"line":29,"column":6},"generated":{"line":1,"column":521}},{"source":"dragAndDrop/dragAndDrop.js","name":"preventDefault","original":{"line":29,"column":8},"generated":{"line":1,"column":523}},{"source":"dragAndDrop/dragAndDrop.js","name":"dropZone","original":{"line":33,"column":2},"generated":{"line":1,"column":544}},{"source":"dragAndDrop/dragAndDrop.js","name":"forEach","original":{"line":33,"column":11},"generated":{"line":1,"column":546}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":33,"column":19},"generated":{"line":1,"column":554}},{"source":"dragAndDrop/dragAndDrop.js","name":"item","original":{"line":33,"column":20},"generated":{"line":1,"column":563}},{"source":"dragAndDrop/dragAndDrop.js","name":"item","original":{"line":34,"column":4},"generated":{"line":1,"column":566}},{"source":"dragAndDrop/dragAndDrop.js","name":"addEventListener","original":{"line":34,"column":9},"generated":{"line":1,"column":568}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":34,"column":26},"generated":{"line":1,"column":585}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":34,"column":35},"generated":{"line":1,"column":592}},{"source":"dragAndDrop/dragAndDrop.js","name":"e","original":{"line":34,"column":36},"generated":{"line":1,"column":601}},{"source":"dragAndDrop/dragAndDrop.js","name":"Object","original":{"line":35,"column":10},"generated":{"line":1,"column":604}},{"source":"dragAndDrop/dragAndDrop.js","name":"keys","original":{"line":35,"column":17},"generated":{"line":1,"column":611}},{"source":"dragAndDrop/dragAndDrop.js","name":"data","original":{"line":35,"column":22},"generated":{"line":1,"column":616}},{"source":"dragAndDrop/dragAndDrop.js","name":"e","original":{"line":35,"column":27},"generated":{"line":1,"column":618}},{"source":"dragAndDrop/dragAndDrop.js","name":"e","original":{"line":35,"column":27},"generated":{"line":1,"column":623}},{"source":"dragAndDrop/dragAndDrop.js","name":"target","original":{"line":35,"column":29},"generated":{"line":1,"column":625}},{"source":"dragAndDrop/dragAndDrop.js","name":"dataset","original":{"line":35,"column":36},"generated":{"line":1,"column":632}},{"source":"dragAndDrop/dragAndDrop.js","name":"day","original":{"line":35,"column":44},"generated":{"line":1,"column":640}},{"source":"dragAndDrop/dragAndDrop.js","name":"includes","original":{"line":35,"column":50},"generated":{"line":1,"column":646}},{"source":"dragAndDrop/dragAndDrop.js","name":"e","original":{"line":35,"column":59},"generated":{"line":1,"column":655}},{"source":"dragAndDrop/dragAndDrop.js","name":"target","original":{"line":35,"column":61},"generated":{"line":1,"column":657}},{"source":"dragAndDrop/dragAndDrop.js","name":"dataset","original":{"line":35,"column":68},"generated":{"line":1,"column":664}},{"source":"dragAndDrop/dragAndDrop.js","name":"time","original":{"line":35,"column":76},"generated":{"line":1,"column":672}},{"source":"dragAndDrop/dragAndDrop.js","name":"alert","original":{"line":36,"column":8},"generated":{"line":1,"column":678}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":36,"column":14},"generated":{"line":1,"column":684}},{"source":"dragAndDrop/dragAndDrop.js","name":"data","original":{"line":38,"column":15},"generated":{"line":1,"column":729}},{"source":"dragAndDrop/dragAndDrop.js","name":"day","original":{"line":38,"column":20},"generated":{"line":1,"column":731}},{"source":"dragAndDrop/dragAndDrop.js","name":"day","original":{"line":38,"column":20},"generated":{"line":1,"column":736}},{"source":"dragAndDrop/dragAndDrop.js","name":"time","original":{"line":38,"column":25},"generated":{"line":1,"column":739}},{"source":"dragAndDrop/dragAndDrop.js","name":"e","original":{"line":39,"column":13},"generated":{"line":1,"column":742}},{"source":"dragAndDrop/dragAndDrop.js","name":"e","original":{"line":39,"column":13},"generated":{"line":1,"column":744}},{"source":"dragAndDrop/dragAndDrop.js","name":"e","original":{"line":39,"column":13},"generated":{"line":1,"column":749}},{"source":"dragAndDrop/dragAndDrop.js","name":"target","original":{"line":39,"column":15},"generated":{"line":1,"column":751}},{"source":"dragAndDrop/dragAndDrop.js","name":"dataset","original":{"line":39,"column":22},"generated":{"line":1,"column":758}},{"source":"dragAndDrop/dragAndDrop.js","name":"day","original":{"line":39,"column":30},"generated":{"line":1,"column":766}},{"source":"dragAndDrop/dragAndDrop.js","name":"e","original":{"line":39,"column":35},"generated":{"line":1,"column":771}},{"source":"dragAndDrop/dragAndDrop.js","name":"target","original":{"line":39,"column":37},"generated":{"line":1,"column":773}},{"source":"dragAndDrop/dragAndDrop.js","name":"dataset","original":{"line":39,"column":44},"generated":{"line":1,"column":780}},{"source":"dragAndDrop/dragAndDrop.js","name":"time","original":{"line":39,"column":52},"generated":{"line":1,"column":788}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":39,"column":60},"generated":{"line":1,"column":794}},{"source":"dragAndDrop/dragAndDrop.js","name":"title","original":{"line":40,"column":10},"generated":{"line":1,"column":795}},{"source":"dragAndDrop/dragAndDrop.js","name":"title","original":{"line":40,"column":10},"generated":{"line":1,"column":801}},{"source":"dragAndDrop/dragAndDrop.js","name":"participants","original":{"line":41,"column":10},"generated":{"line":1,"column":803}},{"source":"dragAndDrop/dragAndDrop.js","name":"participants","original":{"line":41,"column":10},"generated":{"line":1,"column":816}},{"source":"dragAndDrop/dragAndDrop.js","name":"localStorage","original":{"line":43,"column":8},"generated":{"line":1,"column":819}},{"source":"dragAndDrop/dragAndDrop.js","name":"setItem","original":{"line":43,"column":21},"generated":{"line":1,"column":832}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":43,"column":29},"generated":{"line":1,"column":840}},{"source":"dragAndDrop/dragAndDrop.js","name":"JSON","original":{"line":43,"column":45},"generated":{"line":1,"column":855}},{"source":"dragAndDrop/dragAndDrop.js","name":"stringify","original":{"line":43,"column":50},"generated":{"line":1,"column":860}},{"source":"dragAndDrop/dragAndDrop.js","name":"data","original":{"line":43,"column":60},"generated":{"line":1,"column":870}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":43,"column":45},"generated":{"line":1,"column":872}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":45,"column":23},"generated":{"line":1,"column":880}},{"source":"dragAndDrop/dragAndDrop.js","name":"filterBy","original":{"line":45,"column":10},"generated":{"line":1,"column":896}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":45,"column":23},"generated":{"line":1,"column":898}},{"source":"dragAndDrop/dragAndDrop.js","name":"data","original":{"line":46,"column":20},"generated":{"line":1,"column":908}},{"source":"dragAndDrop/dragAndDrop.js","name":"data","original":{"line":46,"column":20},"generated":{"line":1,"column":910}},{"source":"dragAndDrop/dragAndDrop.js","name":"data","original":{"line":46,"column":20},"generated":{"line":1,"column":912}},{"source":"dragAndDrop/dragAndDrop.js","name":"data","original":{"line":46,"column":20},"generated":{"line":1,"column":925}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":46,"column":8},"generated":{"line":1,"column":927}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":48,"column":8},"generated":{"line":1,"column":935}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":48,"column":8},"generated":{"line":1,"column":937}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":48,"column":8},"generated":{"line":1,"column":939}},{"source":"dragAndDrop/dragAndDrop.js","name":"filteredData","original":{"line":49,"column":20},"generated":{"line":1,"column":954}},{"source":"dragAndDrop/dragAndDrop.js","name":"filteredData","original":{"line":49,"column":20},"generated":{"line":1,"column":956}},{"source":"dragAndDrop/dragAndDrop.js","name":"filteredData","original":{"line":49,"column":20},"generated":{"line":1,"column":958}},{"source":"dragAndDrop/dragAndDrop.js","name":"filteredData","original":{"line":49,"column":20},"generated":{"line":1,"column":971}},{"source":"dragAndDrop/dragAndDrop.js","original":{"line":49,"column":8},"generated":{"line":1,"column":973}}],"sources":{"dragAndDrop/dragAndDrop.js":"import {\n  data, filterBy, filteredData, filterFunc,\n} from '../index';\nimport { renderTable } from '../table/table';\n\nconst rawCalendarData = localStorage.getItem('calendarData');\nconst calendarData = JSON.parse(rawCalendarData);\n\nexport default function addDragAndDrop() {\n  const draggableMeetingCard = document.querySelectorAll('.filled');\n  const dropZone = document.querySelectorAll('.drop-zone');\n\n  let day;\n  let time;\n  let title;\n  let participants;\n\n  draggableMeetingCard.forEach((item) => {\n    item.addEventListener('dragstart', ((e) => {\n      day = item.dataset.day;\n      time = item.dataset.time;\n      title = item.dataset.title;\n      participants = item.dataset.participants.split(',');\n    }));\n  });\n\n  dropZone.forEach((item) => {\n    item.addEventListener('dragover', ((e) => {\n      e.preventDefault();\n    }));\n  });\n\n  dropZone.forEach((item) => {\n    item.addEventListener('drop', ((e) => {\n      if (Object.keys(data[e.target.dataset.day]).includes(e.target.dataset.time)) {\n        alert('You can\\'t drag to the booked slot');\n      } else {\n        delete data[day][time];\n        data[e.target.dataset.day][e.target.dataset.time] = {\n          title,\n          participants,\n        };\n        localStorage.setItem('calendarData', JSON.stringify(data));\n      }\n      if (filterBy === 'All members') {\n        renderTable(data);\n      } else {\n        filterFunc();\n        renderTable(filteredData);\n      }\n    }));\n  });\n}\n"},"lineCount":null}},"error":null,"hash":"1ef589729729bff6576f8576396ef00c","cacheData":{"env":{}}}